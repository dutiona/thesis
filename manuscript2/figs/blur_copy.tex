\documentclass[svgnames,tikz]{standalone}
\usetikzlibrary{positioning}

\input{common.tikz}

\begin{document}
\begin{tikzpicture}
  \tikzset{
    Box/.style={draw, align=center, minimum height=30pt},
    TitleBox/.style={Box, fill=LightGray},
    ImageBox/.style={Box, fill=LightBlue},
    ViewBox/.style={Box, fill=Thistle},
    AlgoBox/.style={Box, fill=LightGreen}
  };


  \node[TitleBox] (A0) []            { Pipeline };
  \node[ImageBox] (A1) [below=of A0] { Input };
  \node[AlgoBox]  (A2) [below=of A1] { Copy green\\ channel };
  \node[AlgoBox]  (A3) [below=of A2] { Blur green\\ image };
  \node[AlgoBox]  (A4) [below=of A3] { Copy back\\ green channel };

  % \draw[-latex] (A0) -- (A1);
  \draw[-latex] (A1) -- (A2);
  \draw[-latex] (A2) -- (A3);
  \draw[-latex] (A3) -- (A4);

  \node[TitleBox] (A5) [right=of A0] { Memory };
  \node[img]      (A6) [below=of A5] { \includegraphics[width=1cm]{../images/lena_color.png} };
  \node[img]      (A7) [below=of A6] { \includegraphics[width=1cm]{../images/lena_green.png} \includegraphics[width=1cm]{../images/lena_color.png} };
  \node[img]      (A8) [below=of A7] { \includegraphics[width=1cm]{../images/lena_green_blurred.png} \includegraphics[width=1cm]{../images/lena_color.png} };
  \node[img]      (A9) [below=of A8] { \includegraphics[width=1cm]{../images/lena_green_blurred.png} \includegraphics[width=1cm]{../images/lena_color_gblurred.png} };

\end{tikzpicture}
\end{document}
