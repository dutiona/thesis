Generic programming in modern C++ for Image Processing