\documentclass[varwidth=4.5cm,border={0.1cm 0.1cm 0.1cm 0.1cm}]{standalone}

\usepackage{minted}

\setminted[c++]{fontsize=\scriptsize}

\begin{document}
\begin{minted}[highlightlines={2},highlightcolor=yellow!60!white,escapeinside=||]{c++}
void gamma_correction(
  |\colorbox{red!50!white}{Any}NDImage|& ima,
  double gamma)
{
  for (auto pnt : ima.points())
    auto& v = ima(pnt);
    // correct v with gamma
}
\end{minted}
\end{document}